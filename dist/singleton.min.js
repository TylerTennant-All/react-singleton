!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Redux=e()}(this,function(){"use strict";class t{constructor(t){this.instances=[],this.state=t}register(t){this.instances.push(t)}deregister(t){const e=this.instances.indexOf(t);-1!==e&&this.instances.splice(e,1)}syncState(t){this.state=t,this.instances.forEach(e=>{e._superSetState(t)})}}return e=>{let s;return class extends e{constructor(e){super(e),s||(s=new t(this.state)),this.state=s.state,this._superSetState=super.setState}componentDidMount(){s.register(this),super.componentDidMount&&super.componentDidMount()}componentWillUnmount(){s.deregister(this),super.componentWillUnmount&&super.componentWillUnmount()}setState(t,e){super.setState(t,()=>{s.syncState(this.state),e&&e()})}}}});
